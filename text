Запустила у себя код, и разобралась. В общих чертах, что делает код:
1. Суммирует исторические возвраты нескольких акций в возвраты портфеля из этих акций, чтобы рассмотреть риск всего портфеля
2. Строит модель возвратов, для этого он подгоняет t-распределение под возвраты портфеля, это достаточно простое распределение. Оно как Стандартное, только с дополнительным параметром, который меняет толщину хвостов - это помогает с моделированием данных о финансовых возвратах. В итоге мы сжимаем возвраты портфеля в модель с тремя параметрами.
3. С помощью этой модели, симулируем будущие возвраты, и создаём распределение плотности вероятностей (это то распределение, которое показывается графиком). Вероятности сортированы по возвратам. 
4. Рисуем красную линию, которая показывает сколько мы теряем на определённом процентиле. С приложенными данными, этот код говорит что на 5ом процентиле мы теряем $2000, это значит что если мы рассмотрим 20 периодов в 21 день, то в одном из них мы потеряли больше $2000, а в остальных меньше. Такое сжатие графика в одно число полезно когда нам нужно независимо сравнить много разных акций (или портфелей), но график нам говорит больше.

Что я не понимаю:
- Как была рассчитана надёжность t-распределения, и что она измеряет. В коде этого нет, и я не настолько разбираюсь в статистике чтобы оценивать надёжность моделей числами, а не на глаз. Я знаю что обычно чтобы посчитать надёжность, алгоритм запускают на данных из прошлого, чтобы посмотреть насколько он хорошо их "предсказывает"
- Насколько t-распределение хорошо моделирует возвраты. Насколько я понимаю, обычно используют более продвинутые методы, плюс нужно понимать в каких случаях метод неправильно моделирует возвраты (к примеру, мне кажется t-распределение неправильно построит модель под волатильную крипту, или российские акции в контексте войны)
- Насколько далеко в будущее можно смотреть с помощью этого метода. Насколько я понимаю, это можно добавить в модель с помощью байесовского моделирования, у меня много друзей этим занимаются
- Включены ли в эту модель дивиденды, и как они влияют на модель

В зависимости от задачи, VaR нужно рассчитывать по-разному и использовать разные результаты.
